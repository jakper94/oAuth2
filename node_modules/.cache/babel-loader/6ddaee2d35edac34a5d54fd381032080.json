{"ast":null,"code":"var _jsxFileName = \"/Users/jakobpersson/Documents/work/school/Teknik-for-sociala-medier/oAuth2/src/components/useDatabase/getFromDatabase.js\";\nimport React, { useState, useEffect } from 'react';\nimport firebase from '../../firebase-config';\n\nfunction GetInfoFromUser() {\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    const unsubscribe = firebase.firestore().collection('users', ref => ref.where('userID', '==', '1abcf')).valueChanges();\n    this.unsubscribe.onSnapshot(snapshot => {\n      const newUsers = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setUsers(newUsers);\n    });\n    return () => unsubscribe()();\n  }, []);\n  return users;\n}\n\nconst GetFromDatabase = () => {\n  const users = GetInfoFromUser();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, users.map(user => /*#__PURE__*/React.createElement(\"div\", {\n    key: user.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 15\n    }\n  }, \"hh\"), user.userId, user.id)));\n};\n\nexport default GetFromDatabase;","map":{"version":3,"sources":["/Users/jakobpersson/Documents/work/school/Teknik-for-sociala-medier/oAuth2/src/components/useDatabase/getFromDatabase.js"],"names":["React","useState","useEffect","firebase","GetInfoFromUser","users","setUsers","unsubscribe","firestore","collection","ref","where","valueChanges","onSnapshot","snapshot","newUsers","docs","map","doc","id","data","GetFromDatabase","user","userId"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,QAAP,MAAqB,uBAArB;;AAEA,SAASC,eAAT,GAA2B;AACvB,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBL,QAAQ,CAAC,EAAD,CAAjC;AAEAC,EAAAA,SAAS,CAAC,MAAI;AAGV,UAAMK,WAAW,GAAGJ,QAAQ,CAC3BK,SADmB,GAEfC,UAFe,CAEJ,OAFI,EAEKC,GAAG,IAAIA,GAAG,CAC9BC,KAD2B,CACrB,QADqB,EACX,IADW,EACL,OADK,CAFZ,EAIfC,YAJe,EAApB;AAKI,SAAKL,WAAL,CAECM,UAFD,CAEaC,QAAD,IAAY;AACxB,YAAMC,QAAQ,GAAGD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAmBC,GAAD,KAAS;AACxCC,QAAAA,EAAE,EAAED,GAAG,CAACC,EADgC;AAExC,WAAGD,GAAG,CAACE,IAAJ;AAFqC,OAAT,CAAlB,CAAjB;AAKAd,MAAAA,QAAQ,CAACS,QAAD,CAAR;AACH,KATG;AAUJ,WAAO,MAAMR,WAAW,IAAxB;AAEH,GApBQ,EAoBP,EApBO,CAAT;AAsBI,SAAOF,KAAP;AACP;;AAED,MAAMgB,eAAe,GAAE,MAAI;AACvB,QAAMhB,KAAK,GAAGD,eAAe,EAA7B;AAIA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEKC,KAAK,CAACY,GAAN,CAAUK,IAAI,iBACf;AAAK,IAAA,GAAG,EAAEA,IAAI,CAACH,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAEKG,IAAI,CAACC,MAFV,EAGKD,IAAI,CAACH,EAHV,CADC,CAFL,CADF;AAYH,CAjBD;;AAkBA,eAAeE,eAAf","sourcesContent":["import React, {useState, useEffect }from 'react'\nimport firebase from '../../firebase-config'\n\nfunction GetInfoFromUser() {\n    const [users,setUsers] = useState([]);     \n        \n    useEffect(()=>{\n\n        \n        const unsubscribe = firebase\n        .firestore()\n            .collection('users', ref => ref\n            .where('userID', '==', '1abcf'))\n            .valueChanges()\n            this.unsubscribe\n\n            .onSnapshot((snapshot)=>{\n            const newUsers = snapshot.docs.map((doc)=> ({\n                id: doc.id,\n                ...doc.data()\n                \n            }))\n            setUsers(newUsers);\n        }) \n        return () => unsubscribe()\n        ()\n    },[])\n    \n        return users;\n}\n\nconst GetFromDatabase =()=>{\n    const users = GetInfoFromUser();\n    \n        \n    \n    return (\n      <div>\n          \n          {users.map(user=>(\n          <div key={user.id}> \n              <h1>hh</h1>\n              {user.userId}\n              {user.id}\n          </div>  \n          ))}\n      </div>\n    )\n}\nexport default GetFromDatabase"]},"metadata":{},"sourceType":"module"}