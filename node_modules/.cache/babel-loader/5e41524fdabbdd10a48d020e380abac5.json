{"ast":null,"code":"var _jsxFileName = \"/Users/jakobpersson/Documents/work/school/Teknik-for-sociala-medier/oAuth2/src/components/login/login.js\";\nimport React, { Component, useState, useEffect } from 'react';\nimport FacebookLogin from 'react-facebook-login';\nimport \"./login.scss\";\nimport firebase from '../../config';\nimport { firestore } from 'firebase';\n\nconst login = () => {\n  const [user, setuser] = useState([]);\n  state = {\n    isLoggedIn: false,\n    userID: '',\n    name: '',\n    email: '',\n    picture: '',\n    user_photos: ''\n  };\n\n  componentClicked = () => {\n    console.log(\"clicked\");\n  };\n\n  logOutClicked = e => {\n    e.preventDefault();\n    this.setState({\n      isLoggedIn: false,\n      userID: '',\n      name: '',\n      email: '',\n      picture: ''\n    });\n  };\n\n  responseFacebook = response => {\n    console.log(response);\n    this.setState({\n      isLoggedIn: true,\n      userID: response.id,\n      name: response.name,\n      email: response.email,\n      picture: response.picture.data.url\n    });\n  };\n\n  function useUser() {\n    useEffect(() => {\n      firebase.firestore().collection('users').onSnapshot(snapshot => {\n        const newUsers = snapshot.docs.concat.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setuser(newUsers);\n      });\n    }, []);\n  }\n\n  let fbContent;\n  var date = new Date();\n\n  if (this.state.isLoggedIn) {\n    fbContent = /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fbContent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.picture,\n      alt: this.state.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, \"Welcome \", this.state.name), \"Email: \", this.state.email, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"logOutBotton\",\n      onClick: this.logOutClicked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }\n    }, \"log out\"));\n  } else {\n    fbContent = /*#__PURE__*/React.createElement(FacebookLogin, {\n      className: \"logInButton\",\n      appId: \"226360325102093\",\n      autoLoad: true,\n      fields: \"name,email,picture\",\n      onClick: this.componentClicked,\n      icon: \"fa-facebook\",\n      callback: this.responseFacebook,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 26\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, fbContent);\n};\n\nexport default login;","map":{"version":3,"sources":["/Users/jakobpersson/Documents/work/school/Teknik-for-sociala-medier/oAuth2/src/components/login/login.js"],"names":["React","Component","useState","useEffect","FacebookLogin","firebase","firestore","login","user","setuser","state","isLoggedIn","userID","name","email","picture","user_photos","componentClicked","console","log","logOutClicked","e","preventDefault","setState","responseFacebook","response","id","data","url","useUser","collection","onSnapshot","snapshot","newUsers","docs","concat","map","doc","fbContent","date","Date"],"mappings":"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","sourcesContent":["import React, { Component,useState, useEffect } from 'react'\nimport FacebookLogin from 'react-facebook-login'\nimport \"./login.scss\"\nimport firebase from '../../config'\nimport { firestore } from 'firebase'\nconst login =()=>{\n    const [user,setuser] = useState([]);\n  \n    state= {\n        isLoggedIn: false,\n        userID:'',\n        name: '',\n        email:'',\n        picture: '',\n        user_photos: ''\n    }\n    \n    \n    componentClicked = () =>{\n        console.log(\"clicked\")\n    }\n    logOutClicked = (e) =>{\n        e.preventDefault();\n        this.setState({\n            isLoggedIn:false,\n            userID:'',\n            name: '',\n            email:'',\n            picture: ''\n            \n        })\n\n    }\n    responseFacebook = response => { \n        console.log(response)\n        this.setState({ \n            isLoggedIn: true,\n            userID: response.id,\n            name: response.name,\n            email: response.email,\n            picture: response.picture.data.url\n\n             \n        });\n    }\n    function useUser(){\n        useEffect(() =>{\n            firebase.firestore().collection('users').onSnapshot((snapshot)=>{\n                const newUsers = snapshot.docs.concat.map((doc) => ({\n                    id: doc.id,\n                    ...doc.data()\n                })) \n            setuser(newUsers);\n            })\n\n        },[])\n    }\n  \n\n        let fbContent;\n        var date = new Date();\n       \n\n        if(this.state.isLoggedIn) {\n            fbContent = (\n            <div className=\"fbContent\">\n                <img src={this.state.picture} alt={this.state.name}/>\n        <h2>Welcome {this.state.name}</h2>\n        Email: {this.state.email}\n        <button className=\"logOutBotton\" onClick={this.logOutClicked}>log out</button>\n            </div>\n            )\n\n            \n\n        } else {\n            fbContent = (<FacebookLogin className=\"logInButton\"\n                appId = \"226360325102093\"\n                autoLoad = {true}\n                fields = \"name,email,picture\"\n                onClick={this.componentClicked}\n                icon=\"fa-facebook\"\n                callback={this.responseFacebook}    \n                />\n                \n\n\n            )\n            \n        }\n        return (\n            <div>\n                 {fbContent}\n            </div>\n        )\n    \n}\nexport default login;\n"]},"metadata":{},"sourceType":"module"}